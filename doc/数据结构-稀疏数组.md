### 数据结构-稀疏数组

#### 基本介绍

> 当一个数组中大部分元素为0，或者为同一个值的数组时，可以使用稀疏数组来保存该数组，这样的好处是可以节省空间。



#### 举例说明

![image-20201006220625027](C:\Users\Administrator.USER-20190415PP\AppData\Roaming\Typora\typora-user-images\image-20201006220625027.png)

> 转化过程如下：
>
> 1、二维数组一共是6行7列。
>
> 2、稀疏数组一共是9行3列。首先我们看一下行数是如何确定的，第一行是描述行，其它行是数据行。
>
> 数据行的数量就是描述行第3列的值，所有一共是9行。
>
> 3、稀疏数组的列数是固定的，一共是3列。第一行和其他行列的含义稍微有些区别。
>
> 3、对于第一行， 第1列代表了原来的二维数组共有多少行，第2列代表了原来的二维数组共有多少列，第3列代表不包括0共有多少个值。
>
> 4、对于其它行，第1列代表了该元素在二维数组中的所在行，第2列代表了该元素在二维数组中的所在列，第3列代表了该元素的值。



#### 代码思路

##### 转化为稀疏数组

1. 遍历原始数组，计算有多少个非0值N
2. 根据N创建一个N+1行3列的稀疏数组
3. 遍历原始数组，将非0值的信息写入到稀疏数组



##### 转化为原始数组

1. 读取稀疏数组的第一行，创建一个原始数组
2. 遍历稀疏数组，将稀疏数组的数据写入到原始数组



#### 代码实现

##### 转化为稀疏数组

```java
public static int[][] toSparseArray(int[][] arr) {
        if (arr == null || arr.length == 0) {
            return arr;
        }
        int count = 0;
        for (int i = 0; i < arr.length; i++) {
            for (int j = 0; j < arr[i].length; j++) {
                if (arr[i][j] != 0) {
                    count++;
                }
            }
        }

        int[][] result = new int[count + 1][3];
        result[0][0] = arr.length;
        result[0][1] = arr[0].length;
        result[0][2] = count;

        count = 1;
        for (int i = 0; i < arr.length; i++) {
            for (int j = 0; j < arr[i].length; j++) {
                if (arr[i][j] != 0) {
                    result[count][0] = i;
                    result[count][1] = j;
                    result[count][2] = arr[i][j];
                    count++;
                }
            }
        }
        return result;
    }
```



##### 转化为原始数组

```java
public static int[][] toOriginArray(int[][] sparseArr) {
        if (sparseArr == null || sparseArr.length == 0) {
            return sparseArr;
        }
        int[][] result = new int[sparseArr[0][0]][sparseArr[0][1]];
        for (int i = 1; i < sparseArr.length; i++) {
            result[sparseArr[i][0]][sparseArr[i][1]] = sparseArr[i][2];
        }
        return result;
    }
```

